<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
	<head>
		<meta charset="utf-8" />
		<title>Best Practices for Authoring MathML in EPUB</title>
		<script src="https://www.w3.org/Tools/respec/respec-w3c" class="remove"></script>
		<script class="remove">
			//<![CDATA[
			var respecConfig = {
				shortName: 'mathML',
				specStatus: 'base',
				latestVersion: 'https://inclusivepublishing.org/mathMLBestPractices',
				edDraftURI: null,
				editors: [
					{
						name: 'Avneesh Singh',
						company: 'DAISY Consortium'
					},
					{
						name: 'Charles LaPierre',
						company: 'Benetech'
					},
					{
						name: 'Gregorio Pellegrino',
						company: 'Fondazione LIA'
					},
				],
				formerEditors :[
					{
						name: 'George Kerscher',
						company: 'DAISY Consortium'
					}
				],
				logos: [
					{
						src: 'https://daisy.github.io/transitiontoepub/daisy_high.jpg',
						width: 112,
						height: 100,
						alt: 'DAISY Consortium logo',
						url: 'https://daisy.org'
					}
				],
				github: 'DAISY/transitiontoepub'
			};
			// ]]>
		</script>
		<link href="../css/callout.css" rel="stylesheet" type="text/css"/>
	</head>
    <body>
    	<p class="copyright">Copyright &#169; DAISY Consortium November 16 2022</p>
    	
    	<section id="abstract" hidden="" class="notoc"></section>

        <h2>Introduction</h2>
        
	    <p>
            Reading scientific and mathematical expressions are essential for students with disabilities for making progress in the field of science, technology, engineering and mathematics. This document recommends best practices for presenting Mathematics in a way which makes it accessible to people with print disabilities.
        </p>

        <p>It is possible that the recommendations for EPUB 3 environments provided in this report are a little different from the recommendations for the web environment. Though most of EPUB 3 reading systems use components from web browsers, the reading systems tend to change and sometimes override the web browser functionality, which results in a somewhat different reading experience.</p>

        <h2>Recommendations</h2>

        <p>
            Fortunately, MathML is now widely supported in web browsers and Ebook reading systems. Therefore, MathML should be used for presenting Mathematics.
            There are some instances where the use of MathML is not recommended, these are explained in the section that follows the MathML techniques.
        </p>	    
	    
        <p>Based on test results and future prospects, the following technique is recommended.</p>
        
        <h3>Important Implementation Considerations</h3>
		<p>Based on testing across various reading systems and assistive technologies, the following implementation practices should be carefully observed to ensure optimal accessibility and compatibility.</p>
		
		<h4>Namespace Declaration</h4>
		<p>Do not use global namespaces for MathML (i.e., avoid using the <code>m:</code> prefix namespace within the <code>&lt;html&gt;</code> element). Instead, declare the namespace locally by adding <code>xmlns="http://www.w3.org/1998/Math/MathML"</code> within each <code>&lt;math&gt;</code> element. For implementation examples, refer to the code samples provided in the following sections.</p>
		
		<h4>Alternative Text and Image Handling</h4>
		<ul>
			<li><strong>Do not use the <code>alttext</code> attribute:</strong> current implementations do not properly use this attribute for fallback content, resulting in mathematical expressions being read twice by assistive technologies.</li>
			<li><strong>Do not use the <code>altimg</code> attribute:</strong> avoid referencing fallback images through this attribute.</li>
		</ul>
		
		<h4>Deprecated Attributes</h4>
		<p>Avoid using deprecated MathML attributes for visual styling. These attributes impact the adaptability of visual formatting to user preferences and may not be supported in future implementations:</p>
		<ul>
			<li><code>mathcolor</code></li>
			<li><code>mathbackground</code></li>
			<li><code>mathsize</code></li>
			<li><code>displaystyle</code></li>
			<li><code>scriptlevel</code></li>
		</ul>
		
		<h4>ARIA Attributes</h4>
		<p>Do not apply ARIA attributes to MathML elements. Native MathML provides its own accessibility semantics, and adding ARIA attributes (such as <code>role="math"</code>, <code>aria-label</code>, or <code>aria-describedby</code>) can create conflicts or redundancy in how assistive technologies interpret the mathematical content.</p>
        
        <h3>Technique: Native MathML</h3>
        <div class="simplecalloutbox_preheader">    
            <h4>Code Example #1: Block MathML</h4>
            </div>
            <div class="simplecalloutbox">
                <pre>
        <code>
&lt;p&gt;Some Text before the math equation&lt;/p&gt;
&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;
    &lt;mrow&gt;
        &lt;mi&gt;y&lt;/mi&gt;
        &lt;mo&gt;&minus;&lt;/mo&gt;
        &lt;msub&gt;
            &lt;mi&gt;y&lt;/mi&gt;
            &lt;mn&gt;1&lt;/mn&gt;
        &lt;/msub&gt;
    &lt;/mrow&gt;
    &lt;mo&gt;=&lt;/mo&gt;
    &lt;mrow&gt;
        &lt;mfrac&gt;
            &lt;mrow&gt;
                &lt;msub&gt;
                    &lt;mi&gt;y&lt;/mi&gt;
                    &lt;mn&gt;2&lt;/mn&gt;
                &lt;/msub&gt;
                &lt;mo&gt;&minus;&lt;/mo&gt;
                &lt;msub&gt;
                    &lt;mi&gt;y&lt;/mi&gt;
                    &lt;mn&gt;1&lt;/mn&gt;
                &lt;/msub&gt;
            &lt;/mrow&gt;
            &lt;mrow&gt;
                &lt;msub&gt;
                    &lt;mi&gt;x&lt;/mi&gt;
                    &lt;mn&gt;2&lt;/mn&gt;
                &lt;/msub&gt;
                &lt;mo&gt;&minus;&lt;/mo&gt;
                &lt;msub&gt;
                    &lt;mi&gt;x&lt;/mi&gt;
                    &lt;mn&gt;1&lt;/mn&gt;
                &lt;/msub&gt;
            &lt;/mrow&gt;
        &lt;/mfrac&gt;
        &lt;mo&gt;
            &it;&lt;!--invisible times--&gt;
        &lt;/mo&gt;
        &lt;mrow&gt;
            &lt;mo&gt;(&lt;/mo&gt;
            &lt;mrow&gt;
                &lt;mi&gt;x&lt;/mi&gt;
                &lt;mo&gt;&minus;&lt;/mo&gt;
                &lt;msub&gt;
                    &lt;mi&gt;x&lt;/mi&gt;
                    &lt;mn&gt;1&lt;/mn&gt;
                &lt;/msub&gt;
            &lt;/mrow&gt;
            &lt;mo&gt;)&lt;/mo&gt;
        &lt;/mrow&gt;
    &lt;/mrow&gt;
&lt;/math&gt;
&lt;p&gt;Some text after the equation.&lt;/p&gt;
        </code>
        </pre>

            <div class="simplecalloutbox_preheader">    
            <h4>Code Example #1 Preview: Block MathML</h4>
            </div>
            <div class="simplecalloutbox">
            <p>
            Some Text before the math equation
            </p>
            <math xmlns="http://www.w3.org/1998/Math/MathML" 
            display="block">
               <mrow>
                    <mi>y</mi>
                    <mo>−</mo>
                    <msub>
                        <mi>y</mi>
                        <mn>1</mn>
                    </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                    <mfrac>
                        <mrow>
                            <msub>
                                <mi>y</mi>
                                <mn>2</mn>
                            </msub>
                            <mo>−</mo>
                            <msub>
                                <mi>y</mi>
                                <mn>1</mn>
                            </msub>
                        </mrow>
                        <mrow>
                            <msub>
                                <mi>x</mi>
                                <mn>2</mn>
                            </msub>
                            <mo>−</mo>
                            <msub>
                                <mi>x</mi>
                                <mn>1</mn>
                            </msub>
                        </mrow>
                    </mfrac>
                    <mo>⁢<!--invisible times--></mo>
                    <mrow>
                        <mo>(</mo>
                        <mrow>
                            <mi>x</mi>
                            <mo>−</mo>
                            <msub>
                                <mi>x</mi>
                                <mn>1</mn>
                            </msub>
                        </mrow>
                        <mo>)</mo>
                    </mrow>
                </mrow>
            </math>
        <p>
            Some text after the equation.
        </p>
                </div>
        </div>
        <div class="simplecalloutbox_preheader">   
        <h4>Code Example #2: Inline MathML</h4>
        </div>
        <div class="simplecalloutbox">
        <pre><code>
&lt;p&gt;
    Some Text before the math equation
    &lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;inline&quot;&gt;
        &lt;mrow&gt;
            &lt;mi&gt;y&lt;/mi&gt;
            &lt;mo&gt;&minus;&lt;/mo&gt;
            &lt;msub&gt;
                &lt;mi&gt;y&lt;/mi&gt;
                &lt;mn&gt;1&lt;/mn&gt;
            &lt;/msub&gt;
        &lt;/mrow&gt;
        &lt;mo&gt;=&lt;/mo&gt;
        &lt;mrow&gt;
            &lt;mfrac&gt;
                &lt;mrow&gt;
                    &lt;msub&gt;
                        &lt;mi&gt;y&lt;/mi&gt;
                        &lt;mn&gt;2&lt;/mn&gt;
                    &lt;/msub&gt;
                    &lt;mo&gt;&minus;&lt;/mo&gt;
                    &lt;msub&gt;
                        &lt;mi&gt;y&lt;/mi&gt;
                        &lt;mn&gt;1&lt;/mn&gt;
                    &lt;/msub&gt;
                &lt;/mrow&gt;
                &lt;mrow&gt;
                    &lt;msub&gt;
                        &lt;mi&gt;x&lt;/mi&gt;
                        &lt;mn&gt;2&lt;/mn&gt;
                    &lt;/msub&gt;
                    &lt;mo&gt;&minus;&lt;/mo&gt;
                    &lt;msub&gt;
                        &lt;mi&gt;x&lt;/mi&gt;
                        &lt;mn&gt;1&lt;/mn&gt;
                    &lt;/msub&gt;
                &lt;/mrow&gt;
            &lt;/mfrac&gt;
            &lt;mo&gt;
                &it;&lt;!--invisible times--&gt;
            &lt;/mo&gt;
            &lt;mrow&gt;
                &lt;mo&gt;(&lt;/mo&gt;
                &lt;mrow&gt;
                    &lt;mi&gt;x&lt;/mi&gt;
                    &lt;mo&gt;&minus;&lt;/mo&gt;
                    &lt;msub&gt;
                        &lt;mi&gt;x&lt;/mi&gt;
                        &lt;mn&gt;1&lt;/mn&gt;
                    &lt;/msub&gt;
                &lt;/mrow&gt;
                &lt;mo&gt;)&lt;/mo&gt;
            &lt;/mrow&gt;
        &lt;/mrow&gt;
    &lt;/math&gt;
    Some text after the equation.
&lt;/p&gt;  
        </code>
        </pre>
    <div class="simplecalloutbox_preheader">    
        <h4>Code Example #2 Preview: Inline MathML</h4>
    </div>
    <div class="simplecalloutbox">
        <p>
	Some Text before the math equation
            <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
               <mrow>
                    <mi>y</mi>
                    <mo>−</mo>
                    <msub>
                        <mi>y</mi>
                        <mn>1</mn>
                    </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                    <mfrac>
                        <mrow>
                            <msub>
                                <mi>y</mi>
                                <mn>2</mn>
                            </msub>
                            <mo>−</mo>
                            <msub>
                                <mi>y</mi>
                                <mn>1</mn>
                            </msub>
                        </mrow>
                        <mrow>
                            <msub>
                                <mi>x</mi>
                                <mn>2</mn>
                            </msub>
                            <mo>−</mo>
                            <msub>
                                <mi>x</mi>
                                <mn>1</mn>
                            </msub>
                        </mrow>
                    </mfrac>
                    <mo>⁢<!--invisible times--></mo>
                    <mrow>
                        <mo>(</mo>
                        <mrow>
                            <mi>x</mi>
                            <mo>−</mo>
                            <msub>
                                <mi>x</mi>
                                <mn>1</mn>
                            </msub>
                        </mrow>
                        <mo>)</mo>
                    </mrow>
                </mrow>
            </math>
            Some text after the equation.
        </p>
        </div>
        </div>
	    
        <h3>Where MathML should not be used</h3>

        <p>MathML should not be used at the places where numbers and symbols are the part of the text, for example.</p>
        <ul>
            <li>Adam is 65 years old.</li>
            <li>The zip code of the office is NY 10036.</li>
<li>My mobile number is 78950 55823.</li>
            </ul>
        <p>In these examples, the numbers are actually the words in the text of the publication. Therefore MathML should not be used in such places.</p>
        
        <h2>Challenges in production of accessible Math</h2>
        <p>While MathML is the recommended approach for accessible mathematical content in EPUB publications, the practical implementation of comprehensive MathML markup involves various considerations and challenges in real-world publishing workflows.</p>
        <p>These range from technical and workflow integration issues to questions about when and how to apply MathML most effectively across different types of mathematical content. The publishing industry continues to evolve its approaches to balancing accessibility requirements with production efficiency and visual presentation needs.</p>
        <p>For a detailed examination of current implementation challenges and ongoing discussions in this area, see <a href="mathML-challenges.html">Challenges in production of accessible Math</a>.</p>
	    
      	<section class="appendix informative" id="acknowledgements">
			<h2>Acknowledgments</h2>
			
			<p>The following people contributed to the development of this document:</p>
			
			<ul>
				<li>Avneesh Singh, DAISY Consortium</li>
				<li>Charles LaPierre, Benetech</li>
				<li>Chris Stynes, HMH</li>
				<li>Gautier Chomel, EDRLab</li>
				<li>George Kerscher, DAISY Consortium</li>
				<li>Gregorio Pellegrino, Fondazione LIA</li>
				<li>Ibrahim Siddo, Oxford University Press</li>
				<li>James Yanchak, Taylor & Francis</li>
				<li>Cody Care, EBSCO</li>
				<li>Mark Dunn, Oxford University Press</li>
				<li>Marthe Gjelstad, National Library of Norway (NB)</li>
				<li>Richard Orme, DAISY Consortium</li>
				<li>Sagiv Lapkin, Taylor & Francis</li>
				<li>Steve Noble, Pearson</li>
				<li>Tim Arborealis Lötberg, Swedish Agency for Accessible Media (MTM)</li>
			</ul>
		</section>
    </body>
</html>
